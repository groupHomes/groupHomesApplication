<div id="facilities-edit">
  <div class="row" style="margin:0;padding:20px" ng-repeat="facility in facilities">
    <form name="form" style="width:100%">
      <md-card class="card" style="padding:20px;width:100%">
        <h3 class="headline" style="">{{facility.name}}</h3>
        <h5 class="subhead" style="margin-top:0px;margin-bottom:25px">{{facility.address}}, {{facility.city}}, {{facility.state}}, {{facility.zip}}</h5>
        <md-input-container class="md-block">
          <label>Description of Facility</label>
          <textarea ng-model="facility.specialHmFeature" md-select-on-focus ng-disabled="!edit"></textarea>
        </md-input-container>
          <!--primary photo-->
          <div layout="row" layout-align="space-between center">
            <md-button style="margin-left: 0px" class="md-raised md-cornered" ngf-multiple="false" ngf-select=selectPrimaryPhoto(facility.primaryPhoto) ng-model="facility.primaryPhoto" name="primaryPhoto" ngf-pattern="'.jpg'"
            ngf-accept="'.jpg'" ng-disabled="!edit">Select Primary Photo</md-button>
           </div>

          <div style="display:flex;flex-wrap:wrap">
            <div class="thumb" style="margin-right:10px; margin-bottom:10px"  ng-repeat="primaryPhoto in facility.photoPrimaryLink" >
              <img ng-src="{{primaryPhoto}}" style="max-height:50px;width:auto;">
              <!-- <div class="thumb-text"><i class="fa fa-trash fa-2x" style="color:red;line-height:58px" ng-click="removePrimaryPhoto($index, file)"></i></div> -->
            </div>
          </div>
          <!--multiple internal photos-->
          <div layout="row" layout-align="space-between center">
            <md-button style="margin-left: 0px" class="md-raised md-cornered" ngf-multiple="true" ngf-select=selectInternalPhotos(facility.internalPhotos) ng-model="facility.internalPhotos" name="internalPhotos" ngf-pattern="'.jpg'"
            ngf-accept="'.jpg'" ng-disabled="!edit">Select All Other Photos</md-button>
           </div>
           <!-- <img nr-src="{{facility.files[0]}}"> -->

          <div style="display:flex;flex-wrap:wrap">
            <div class="thumb" ng-repeat="internalPhoto in facility.photoInternalLinks" style="margin-right:10px; margin-bottom:10px">
              <!-- <img ng-src="{{photo}}" style="max-height:50px;width:auto;"> -->
              <img ng-src="{{internalPhoto}}" style="max-height:50px;width:auto;">
              <!-- <div class="thumb-text"><i class="fa fa-trash fa-2x" style="color:red;line-height:58px" ng-click="removeInternalPhoto($index, file)"></i></div> -->
            </div>
          </div>

        <div style="display:flex;justify-content:flex-end">
          <md-button class="md-raised md-cornered" ng-hide="edit" ng-click="edit=!edit; setFacility(facility)" style="width:20%;float:right">Edit</md-button>
          <md-button class="md-raised md-cornered" ng-hide="!edit" ng-click="submit(facility); edit=!edit" style="width:20%;float:right">Save</md-button>
          <md-button class="md-raised md-cornered" ng-hide="!edit" ng-click="edit=!edit; reset($index)" style="width:20%;float:right">Cancel</md-button>
        </div>
      </md-card>
    </form>
  </div>
</div>
